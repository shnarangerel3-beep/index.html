<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–≠—Ü—ç–≥ —ç—Ö–∏–π–Ω –ø–æ—Ä—Ç–∞–ª</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f4f6f9;
    }
    h2 { text-align: center; }
    #search, #btnSearch {
      display: block;
      margin: 10px auto;
      padding: 10px;
      width: 80%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    #btnSearch {
      width: 150px;
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    #btnSearch:hover {
      background: #0056b3;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      background: #fff;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #007bff;
      color: white;
    }
    tr:nth-child(even) { background: #f2f2f2; }
  </style>
</head>
<body>
  <h2>üìñ –≠—Ü—ç–≥ —ç—Ö–∏–π–Ω –ø–æ—Ä—Ç–∞–ª</h2>
  <input type="text" id="search" placeholder="–†–µ–≥–∏—Å—Ç—Ä–∏–π–Ω –¥—É–≥–∞–∞—Ä–∞–∞—Ä —Ö–∞–π—Ö (–ñ: Pe13220101)">
  <button id="btnSearch">–•–∞–π—Ö</button>

  <table>
    <thead>
      <tr>
        <th>–†–µ–≥–∏—Å—Ç—Ä</th>
        <th>–ù—ç—Ä</th>
        <th>–û–≥–Ω–æ–æ</th>
        <th>–ò—Ä—Ü</th>
        <th>–ì—ç—Ä–∏–π–Ω –¥–∞–∞–ª–≥–∞–≤–∞—Ä</th>
        <th>–¢—ç–º–¥—ç–≥–ª—ç–ª</th>
      </tr>
    </thead>
    <tbody id="students-table-body">
      <tr><td colspan="6">üîé –•–∞–π–ª—Ç —Ö–∏–π–≥—ç—ç–≥“Ø–π –±–∞–π–Ω–∞</td></tr>
    </tbody>
  </table>

  <script>
    let data = [];

    async function loadData() {
      try {
        const response = await fetch("https://shnarangerel3-beep.github.io/students.json");
        data = await response.json();
      } catch (err) {
        console.error("‚ö†Ô∏è JSON —Ñ–∞–π–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π:", err);
      }
    }

    function searchStudent() {
      const value = document.getElementById('search').value.trim();
      const tableBody = document.getElementById('students-table-body');
      tableBody.innerHTML = "";

      if (value === "") {
        tableBody.innerHTML = `<tr><td colspan="6">‚ö†Ô∏è –†–µ–≥–∏—Å—Ç—Ä –æ—Ä—É—É–ª–Ω–∞ —É—É</td></tr>`;
        return;
      }

      const filtered = data.filter(s => 
        s.–†–µ–≥–∏—Å—Ç—Ä.toLowerCase().includes(value.toLowerCase())
      );

      if (filtered.length === 0) {
        tableBody.innerHTML = `<tr><td colspan="6">‚ùå –ú—ç–¥—ç—ç–ª—ç–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π</td></tr>`;
        return;
      }

      filtered.forEach(student => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${student.–†–µ–≥–∏—Å—Ç—Ä}</td>
          <td>${student.–ù—ç—Ä}</td>
          <td>${student.–û–≥–Ω–æ–æ}</td>
          <td>${student.–ò—Ä—Ü}</td>
          <td>${student["–ì—ç—Ä–∏–π–Ω –¥–∞–∞–ª–≥–∞–≤–∞—Ä"]}</td>
          <td>${student.–¢—ç–º–¥—ç–≥–ª—ç–ª ?? ""}</td>
        `;
        tableBody.appendChild(row);
      });
    }

    document.getElementById('btnSearch').addEventListener('click', searchStudent);
    window.onload = loadData;
  </script>
</body>
</html>
